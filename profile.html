<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DAYLIFE ‚Äî Profile</title>
  <link rel="stylesheet" href="assets/style.css" />
</head>
<body>
  <!-- Top bar -->
  <header class="topbar">
    <div class="logo">
      <img src="assets/logo.png" alt="DAYLIFE Logo" />
      <span>DAYLIFE</span>
    </div>
    <nav class="desktop-nav">
      <a href="home.html">üè† Home</a>
      <a href="dreams.html">üí≠ Dreams</a>
      <a href="reflections.html">ü™û Reflections</a>
      <a href="profile.html" class="active">üë§ Profile</a>
    </nav>
  </header>

  <main class="profile-page">
    <!-- Header -->
    <section class="profile-header">
      <h1>Profil</h1>
      <p>Votre parcours en un coup d'≈ìil.</p>
    </section>

    <!-- Profile Card -->
    <section class="profile-card">
      <div class="avatar-wrapper" id="avatarWrapper">
        <img id="profileAvatar" src="assets/avatar.png" alt="Avatar" />
        <div class="avatar-edit">Change</div>
        <input type="file" id="avatarInput" accept="image/*" hidden />
      </div>

      <div class="profile-main-text">
        <h2 id="profileName">Votre nom</h2>
        <p id="profileEmail" class="muted">Votre email</p>
      </div>

      <div class="profile-badges">
        <div class="badge badge-stars">
          <span class="emoji">‚≠ê</span>
          <span id="profileStars">0</span>
          <small>√©toiles</small>
        </div>
        <div class="badge badge-streak" id="streakBadge" style="display:none">
          <span class="emoji">üî•</span>
          <span id="profileStreak">0</span>
          <small>jours de suite</small>
        </div>
      </div>
    </section>

    <!-- Stats grid -->
    <section class="profile-stats-grid">
      <div class="stat-card">
        <div class="icon-circle blue">üéØ</div>
        <h3 id="activeDreamsCount">0</h3>
        <p>R√™ves actifs</p>
      </div>
      <div class="stat-card">
        <div class="icon-circle green">‚úÖ</div>
        <h3 id="completedDreamsCount">0</h3>
        <p>R√™ves accomplis</p>
      </div>
      <div class="stat-card">
        <div class="icon-circle purple">üìî</div>
        <h3 id="reflectionsCount">0</h3>
        <p>R√©flexions</p>
      </div>
    </section>

    <!-- Referral Section -->
    <section class="referral-card">
      <div class="referral-header">
        <h3>Share & Earn Stars</h3>
        <p>Invite friends and earn <strong>+5 ‚≠ê</strong> for each friend who joins!</p>
      </div>

      <div class="referral-stats">
        <div class="ref-box">
          <div class="icon-circle purple">üë•</div>
          <h3 id="refFriends">0</h3>
          <p>Friends Joined</p>
        </div>
        <div class="ref-box">
          <div class="icon-circle yellow">‚≠ê</div>
          <h3 id="refStars">0</h3>
          <p>Stars Earned</p>
        </div>
      </div>

      <div class="referral-link-block">
        <label>Your Referral Link</label>
        <div class="referral-input-row">
          <input type="text" id="referralLinkInput" readonly />
          <button id="copyReferralBtn">Copy</button>
        </div>
        <button id="shareReferralBtn" class="primary-btn full-width">
          Share with Friends
        </button>
      </div>

      <p class="tiny-text">
        When someone joins using your link and completes setup, you both earn bonus stars!
      </p>
    </section>

    <!-- Settings -->
    <section class="settings-card">
      <h3>Param√®tres</h3>

      <div class="setting-group">
        <label for="nameInput">Nom affich√©</label>
        <input type="text" id="nameInput" placeholder="Votre nom" />
      </div>

      <div class="setting-group">
        <label for="emailInput">Email</label>
        <input type="email" id="emailInput" placeholder="vous@example.com" />
      </div>

      <div class="setting-group">
        <label for="birthInput">Date de naissance</label>
        <input type="date" id="birthInput" />
        <small>Utilis√©e pour calculer votre parcours de vie.</small>
      </div>

      <div class="setting-group">
        <label for="sexSelect">Sexe</label>
        <select id="sexSelect">
          <option value="male">Homme</option>
          <option value="female">Femme</option>
        </select>
        <small>Utilis√© pour calculer l'esp√©rance de vie r√©elle.</small>
      </div>

      <div class="setting-group">
        <label for="countrySelect">Pays de naissance</label>
        <select id="countrySelect"></select>
        <small>Utilis√© pour ajuster l'esp√©rance de vie selon les statistiques.</small>
      </div>

      <div class="setting-group">
        <label for="lifeModeSelect">M√©thode de calcul de vie</label>
        <select id="lifeModeSelect">
          <option value="30000_days">30 000 jours (par d√©faut)</option>
          <option value="by_demographics">R√©el (selon mon profil)</option>
        </select>
        <small id="lifeModeHint"></small>
      </div>

      <div class="setting-group">
        <label for="themeSelect">Th√®me</label>
        <select id="themeSelect">
          <option value="light">Clair (recommand√©)</option>
          <option value="dark">Sombre</option>
          <option value="lunar">Lunaire</option>
        </select>
      </div>

      <div class="logout-row">
        <button id="logoutBtn" class="danger-btn full-width">
          Se d√©connecter
        </button>
      </div>
    </section>
  </main>

  <footer id="mobileNav"></footer>
  <script src="assets/nav.js"></script>

  <script>
    createNavBar("profile");

    // --- Country list (codes + noms FR) ---
    const countries = [
      { code: "AF", name: "Afghanistan" },
      { code: "ZA", name: "Afrique du Sud" },
      { code: "AL", name: "Albanie" },
      { code: "DZ", name: "Alg√©rie" },
      { code: "DE", name: "Allemagne" },
      { code: "AD", name: "Andorre" },
      { code: "AO", name: "Angola" },
      { code: "SA", name: "Arabie Saoudite" },
      { code: "AR", name: "Argentine" },
      { code: "AM", name: "Arm√©nie" },
      { code: "AU", name: "Australie" },
      { code: "AT", name: "Autriche" },
      { code: "AZ", name: "Azerba√Ødjan" },
      { code: "BS", name: "Bahamas" },
      { code: "BH", name: "Bahre√Øn" },
      { code: "BD", name: "Bangladesh" },
      { code: "BB", name: "Barbade" },
      { code: "BE", name: "Belgique" },
      { code: "BZ", name: "Belize" },
      { code: "BJ", name: "B√©nin" },
      { code: "BT", name: "Bhoutan" },
      { code: "BY", name: "Bi√©lorussie" },
      { code: "BO", name: "Bolivie" },
      { code: "BA", name: "Bosnie-Herz√©govine" },
      { code: "BW", name: "Botswana" },
      { code: "BR", name: "Br√©sil" },
      { code: "BN", name: "Brunei" },
      { code: "BG", name: "Bulgarie" },
      { code: "BF", name: "Burkina Faso" },
      { code: "BI", name: "Burundi" },
      { code: "KH", name: "Cambodge" },
      { code: "CM", name: "Cameroun" },
      { code: "CA", name: "Canada" },
      { code: "CV", name: "Cap-Vert" },
      { code: "CL", name: "Chili" },
      { code: "CN", name: "Chine" },
      { code: "CY", name: "Chypre" },
      { code: "CO", name: "Colombie" },
      { code: "KM", name: "Comores" },
      { code: "CG", name: "Congo" },
      { code: "KR", name: "Cor√©e du Sud" },
      { code: "KP", name: "Cor√©e du Nord" },
      { code: "CR", name: "Costa Rica" },
      { code: "CI", name: "C√¥te d'Ivoire" },
      { code: "HR", name: "Croatie" },
      { code: "CU", name: "Cuba" },
      { code: "DK", name: "Danemark" },
      { code: "DJ", name: "Djibouti" },
      { code: "DM", name: "Dominique" },
      { code: "EG", name: "√âgypte" },
      { code: "AE", name: "√âmirats Arabes Unis" },
      { code: "EC", name: "√âquateur" },
      { code: "ER", name: "√ârythr√©e" },
      { code: "ES", name: "Espagne" },
      { code: "EE", name: "Estonie" },
      { code: "US", name: "√âtats-Unis" },
      { code: "ET", name: "√âthiopie" },
      { code: "FJ", name: "Fidji" },
      { code: "FI", name: "Finlande" },
      { code: "FR", name: "France" },
      { code: "GA", name: "Gabon" },
      { code: "GM", name: "Gambie" },
      { code: "GE", name: "G√©orgie" },
      { code: "GH", name: "Ghana" },
      { code: "GR", name: "Gr√®ce" },
      { code: "GD", name: "Grenade" },
      { code: "GT", name: "Guatemala" },
      { code: "GN", name: "Guin√©e" },
      { code: "GQ", name: "Guin√©e √©quatoriale" },
      { code: "GW", name: "Guin√©e-Bissau" },
      { code: "GY", name: "Guyana" },
      { code: "HT", name: "Ha√Øti" },
      { code: "HN", name: "Honduras" },
      { code: "HU", name: "Hongrie" },
      { code: "IN", name: "Inde" },
      { code: "ID", name: "Indon√©sie" },
      { code: "IQ", name: "Irak" },
      { code: "IR", name: "Iran" },
      { code: "IE", name: "Irlande" },
      { code: "IS", name: "Islande" },
      { code: "IL", name: "Isra√´l" },
      { code: "IT", name: "Italie" },
      { code: "JM", name: "Jama√Øque" },
      { code: "JP", name: "Japon" },
      { code: "JO", name: "Jordanie" },
      { code: "KZ", name: "Kazakhstan" },
      { code: "KE", name: "Kenya" },
      { code: "KG", name: "Kirghizistan" },
      { code: "KI", name: "Kiribati" },
      { code: "KW", name: "Kowe√Øt" },
      { code: "LA", name: "Laos" },
      { code: "LS", name: "Lesotho" },
      { code: "LV", name: "Lettonie" },
      { code: "LB", name: "Liban" },
      { code: "LR", name: "Liberia" },
      { code: "LY", name: "Libye" },
      { code: "LI", name: "Liechtenstein" },
      { code: "LT", name: "Lituanie" },
      { code: "LU", name: "Luxembourg" },
      { code: "MK", name: "Mac√©doine du Nord" },
      { code: "MG", name: "Madagascar" },
      { code: "MY", name: "Malaisie" },
      { code: "MW", name: "Malawi" },
      { code: "MV", name: "Maldives" },
      { code: "ML", name: "Mali" },
      { code: "MT", name: "Malte" },
      { code: "MA", name: "Maroc" },
      { code: "MH", name: "√éles Marshall" },
      { code: "MU", name: "Maurice" },
      { code: "MR", name: "Mauritanie" },
      { code: "MX", name: "Mexique" },
      { code: "FM", name: "Micron√©sie" },
      { code: "MD", name: "Moldavie" },
      { code: "MC", name: "Monaco" },
      { code: "MN", name: "Mongolie" },
      { code: "ME", name: "Mont√©n√©gro" },
      { code: "MZ", name: "Mozambique" },
      { code: "MM", name: "Myanmar" },
      { code: "NA", name: "Namibie" },
      { code: "NR", name: "Nauru" },
      { code: "NP", name: "N√©pal" },
      { code: "NI", name: "Nicaragua" },
      { code: "NE", name: "Niger" },
      { code: "NG", name: "Nigeria" },
      { code: "NO", name: "Norv√®ge" },
      { code: "NZ", name: "Nouvelle-Z√©lande" },
      { code: "OM", name: "Oman" },
      { code: "UG", name: "Ouganda" },
      { code: "UZ", name: "Ouzb√©kistan" },
      { code: "PK", name: "Pakistan" },
      { code: "PW", name: "Palaos" },
      { code: "PA", name: "Panama" },
      { code: "PG", name: "Papouasie-Nouvelle-Guin√©e" },
      { code: "PY", name: "Paraguay" },
      { code: "NL", name: "Pays-Bas" },
      { code: "PE", name: "P√©rou" },
      { code: "PH", name: "Philippines" },
      { code: "PL", name: "Pologne" },
      { code: "PT", name: "Portugal" },
      { code: "QA", name: "Qatar" },
      { code: "DO", name: "R√©publique Dominicaine" },
      { code: "CD", name: "R√©publique D√©mocratique du Congo" },
      { code: "CZ", name: "R√©publique Tch√®que" },
      { code: "RO", name: "Roumanie" },
      { code: "GB", name: "Royaume-Uni" },
      { code: "RU", name: "Russie" },
      { code: "RW", name: "Rwanda" },
      { code: "KN", name: "Saint-Christophe-et-Ni√©v√®s" },
      { code: "SM", name: "Saint-Marin" },
      { code: "VC", name: "Saint-Vincent-et-les-Grenadines" },
      { code: "LC", name: "Sainte-Lucie" },
      { code: "SV", name: "Salvador" },
      { code: "WS", name: "Samoa" },
      { code: "ST", name: "Sao Tom√©-et-Principe" },
      { code: "SN", name: "S√©n√©gal" },
      { code: "RS", name: "Serbie" },
      { code: "SC", name: "Seychelles" },
      { code: "SL", name: "Sierra Leone" },
      { code: "SG", name: "Singapour" },
      { code: "SK", name: "Slovaquie" },
      { code: "SI", name: "Slov√©nie" },
      { code: "SO", name: "Somalie" },
      { code: "SD", name: "Soudan" },
      { code: "SS", name: "Soudan du Sud" },
      { code: "LK", name: "Sri Lanka" },
      { code: "SE", name: "Su√®de" },
      { code: "CH", name: "Suisse" },
      { code: "SR", name: "Suriname" },
      { code: "SY", name: "Syrie" },
      { code: "TJ", name: "Tadjikistan" },
      { code: "TZ", name: "Tanzanie" },
      { code: "TD", name: "Tchad" },
      { code: "TH", name: "Tha√Ølande" },
      { code: "TL", name: "Timor oriental" },
      { code: "TG", name: "Togo" },
      { code: "TO", name: "Tonga" },
      { code: "TT", name: "Trinit√©-et-Tobago" },
      { code: "TN", name: "Tunisie" },
      { code: "TM", name: "Turkm√©nistan" },
      { code: "TR", name: "Turquie" },
      { code: "TV", name: "Tuvalu" },
      { code: "UA", name: "Ukraine" },
      { code: "UY", name: "Uruguay" },
      { code: "VU", name: "Vanuatu" },
      { code: "VA", name: "Vatican" },
      { code: "VE", name: "Venezuela" },
      { code: "VN", name: "Vietnam" },
      { code: "YE", name: "Y√©men" },
      { code: "ZM", name: "Zambie" },
      { code: "ZW", name: "Zimbabwe" }
    ];

    // Populate country select
    const countrySelect = document.getElementById("countrySelect");
    countries.forEach(c => {
      const opt = document.createElement("option");
      opt.value = c.code;
      opt.textContent = c.name;
      countrySelect.appendChild(opt);
    });

    // Default profile structure
    const defaultProfile = {
      name: "David",
      email: "",
      avatar: "assets/avatar.png",
      totalStars: 0,
      streakDays: 0,
      birthdate: "",
      sex: "male",
      country: "",
      lifeMode: "30000_days",
      theme: "light",
      referralCode: null,
      referralFriends: 0
    };

    let profile = JSON.parse(localStorage.getItem("profile")) || defaultProfile;

    if (!profile.referralCode) {
      profile.referralCode = "DAY" + Math.random().toString(36).substring(2, 8).toUpperCase();
    }

    function saveProfile() {
      localStorage.setItem("profile", JSON.stringify(profile));
    }

    function updateLifeModeHint() {
      const hint = document.getElementById("lifeModeHint");
      if (profile.lifeMode === "by_demographics") {
        const countryObj = countries.find(c => c.code === profile.country);
        const sexLabel = profile.sex === "male" ? "hommes" : "femmes";
        const countryName = countryObj ? countryObj.name : "votre pays";
        hint.textContent = `Bas√© sur les donn√©es d'esp√©rance de vie pour les ${sexLabel} en ${countryName}.`;
      } else {
        hint.textContent = "Bas√© sur une vie moyenne de 30 000 jours.";
      }
    }

    function renderProfile() {
      // avatar
      const avatarImg = document.getElementById("profileAvatar");
      avatarImg.src = profile.avatar || "assets/avatar.png";

      // main text
      document.getElementById("profileName").textContent = profile.name || "Votre nom";
      document.getElementById("profileEmail").textContent = profile.email || "Votre email";

      // badges
      document.getElementById("profileStars").textContent = profile.totalStars || 0;
      const streakBadge = document.getElementById("streakBadge");
      if (profile.streakDays && profile.streakDays > 0) {
        streakBadge.style.display = "flex";
        document.getElementById("profileStreak").textContent = profile.streakDays;
      } else {
        streakBadge.style.display = "none";
      }

      // settings inputs
      document.getElementById("nameInput").value = profile.name || "";
      document.getElementById("emailInput").value = profile.email || "";
      document.getElementById("birthInput").value = profile.birthdate || "";
      document.getElementById("sexSelect").value = profile.sex || "male";
      document.getElementById("lifeModeSelect").value = profile.lifeMode || "30000_days";
      document.getElementById("themeSelect").value = profile.theme || "light";
      if (profile.country) {
        countrySelect.value = profile.country;
      }

      // stats from other pages (dreams / reflections)
      const dreams = JSON.parse(localStorage.getItem("dreams")) || [];
      const reflections = JSON.parse(localStorage.getItem("reflections")) || [];
      const activeDreams = dreams.filter(d => d.status === "in_progress").length;
      const completedDreams = dreams.filter(d => d.status === "completed").length;
      document.getElementById("activeDreamsCount").textContent = activeDreams;
      document.getElementById("completedDreamsCount").textContent = completedDreams;
      document.getElementById("reflectionsCount").textContent = reflections.length;

      // referral section
      document.getElementById("refFriends").textContent = profile.referralFriends || 0;
      document.getElementById("refStars").textContent = (profile.referralFriends || 0) * 5;

      const path = window.location.pathname;
      const basePath = path.substring(0, path.lastIndexOf("/") + 1);
      const referralLink = window.location.origin + basePath + "?ref=" + profile.referralCode;
      document.getElementById("referralLinkInput").value = referralLink;

      updateLifeModeHint();
    }

    // Event listeners
    document.getElementById("nameInput").addEventListener("input", (e) => {
      profile.name = e.target.value;
      saveProfile();
      renderProfile();
    });

    document.getElementById("emailInput").addEventListener("input", (e) => {
      profile.email = e.target.value;
      saveProfile();
      renderProfile();
    });

    document.getElementById("birthInput").addEventListener("change", (e) => {
      profile.birthdate = e.target.value;
      saveProfile();
    });

    document.getElementById("sexSelect").addEventListener("change", (e) => {
      profile.sex = e.target.value;
      saveProfile();
      updateLifeModeHint();
    });

    countrySelect.addEventListener("change", (e) => {
      profile.country = e.target.value;
      saveProfile();
      updateLifeModeHint();
    });

    document.getElementById("lifeModeSelect").addEventListener("change", (e) => {
      profile.lifeMode = e.target.value;
      saveProfile();
      updateLifeModeHint();
    });

    document.getElementById("themeSelect").addEventListener("change", (e) => {
      profile.theme = e.target.value;
      saveProfile();
    });

    // Avatar upload
    document.getElementById("avatarWrapper").addEventListener("click", () => {
      document.getElementById("avatarInput").click();
    });

    document.getElementById("avatarInput").addEventListener("change", (e) => {
      const file = e.target.files[0];
      if (!file) return;
      const reader = new FileReader();
      reader.onload = () => {
        profile.avatar = reader.result;
        saveProfile();
        renderProfile();
      };
      reader.readAsDataURL(file);
    });

    // Referral copy / share
    const copyBtn = document.getElementById("copyReferralBtn");
    copyBtn.addEventListener("click", () => {
      const input = document.getElementById("referralLinkInput");
      input.select();
      input.setSelectionRange(0, 99999);
      try {
        document.execCommand("copy");
        copyBtn.textContent = "Copied!";
        setTimeout(() => (copyBtn.textContent = "Copy"), 2000);
      } catch {
        alert("Unable to copy");
      }
    });

    document.getElementById("shareReferralBtn").addEventListener("click", async () => {
      const link = document.getElementById("referralLinkInput").value;
      const text =
        "Every day counts. Join me on DAYLIFE and start making your days matter!";
      if (navigator.share) {
        try {
          await navigator.share({ title: "Join DAYLIFE", text, url: link });
        } catch (e) {
          console.log("Share cancelled");
        }
      } else {
        copyBtn.click();
      }
    });

    // Logout = reset local data
    document.getElementById("logoutBtn").addEventListener("click", () => {
      if (confirm("Cela va effacer vos donn√©es locales sur cet appareil. Continuer ?")) {
        localStorage.clear();
        window.location.href = "index.html";
      }
    });

    renderProfile();
  </script>
</body>
</html>
/* -----------------------------
   PROFILE PAGE
--------------------------------*/
.profile-page {
  max-width: 900px;
  margin: auto;
  padding: 20px;
}

.profile-header {
  text-align: center;
  margin-bottom: 20px;
}
.profile-header h1 {
  font-size: 2rem;
  margin: 0;
}
.profile-header p {
  margin: 5px 0 0;
  color: #6b7280;
}

.profile-card {
  background: white;
  border-radius: 24px;
  padding: 24px;
  box-shadow: 0 4px 12px rgba(15, 23, 42, 0.06);
  border: 1px solid #e5e7eb;
  text-align: center;
  margin-bottom: 20px;
}

.avatar-wrapper {
  position: relative;
  width: 96px;
  height: 96px;
  margin: 0 auto 10px;
  cursor: pointer;
}
.avatar-wrapper img {
  width: 100%;
  height: 100%;
  border-radius: 50%;
  object-fit: cover;
  box-shadow: 0 0 0 4px #e0e7ff;
}
.avatar-edit {
  position: absolute;
  bottom: -6px;
  right: -6px;
  background: linear-gradient(90deg, var(--blue), var(--purple));
  color: white;
  font-size: 10px;
  padding: 4px 8px;
  border-radius: 999px;
}

.profile-main-text h2 {
  margin: 6px 0 2px;
}
.profile-main-text .muted {
  color: #6b7280;
  font-size: 0.9rem;
}

.profile-badges {
  display: flex;
  justify-content: center;
  gap: 12px;
  margin-top: 10px;
  flex-wrap: wrap;
}
.badge {
  display: flex;
  align-items: center;
  gap: 6px;
  border-radius: 999px;
  padding: 6px 14px;
  font-size: 0.85rem;
  border: 1px solid transparent;
}
.badge .emoji {
  font-size: 1.1rem;
}
.badge-stars {
  background: linear-gradient(to right, #fef3c7, #fffbeb);
  border-color: #facc15;
}
.badge-streak {
  background: linear-gradient(to right, #ffedd5, #fee2e2);
  border-color: #fb923c;
}

/* stats grid */
.profile-stats-grid {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 12px;
  margin-bottom: 20px;
}
.stat-card {
  background: white;
  border-radius: 18px;
  padding: 16px 10px;
  text-align: center;
  box-shadow: 0 2px 8px rgba(15, 23, 42, 0.04);
  border: 1px solid #e5e7eb;
}
.icon-circle {
  width: 32px;
  height: 32px;
  border-radius: 999px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0 auto 6px;
  font-size: 18px;
}
.icon-circle.blue {
  background: #eff6ff;
  color: #2563eb;
}
.icon-circle.green {
  background: #ecfdf5;
  color: #10b981;
}
.icon-circle.purple {
  background: #f5f3ff;
  color: #7c3aed;
}
.icon-circle.yellow {
  background: #fef9c3;
  color: #eab308;
}
.stat-card h3 {
  margin: 4px 0;
  font-size: 1.4rem;
}
.stat-card p {
  margin: 0;
  font-size: 0.85rem;
  color: #6b7280;
}

/* referral */
.referral-card {
  background: linear-gradient(135deg, #f5f3ff, #fee2f2);
  border-radius: 22px;
  padding: 20px;
  border: 2px solid #e9d5ff;
  box-shadow: 0 4px 10px rgba(15, 23, 42, 0.04);
  margin-bottom: 20px;
}
.referral-header {
  text-align: center;
  margin-bottom: 12px;
}
.referral-header h3 {
  margin: 0;
}
.referral-header p {
  margin: 4px 0 0;
  font-size: 0.9rem;
  color: #4b5563;
}
.referral-stats {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 10px;
  margin-bottom: 12px;
}
.ref-box {
  background: rgba(255, 255, 255, 0.8);
  border-radius: 16px;
  padding: 10px;
  text-align: center;
}
.ref-box h3 {
  margin: 4px 0;
}
.ref-box p {
  margin: 0;
  font-size: 0.8rem;
  color: #6b7280;
}
.referral-link-block label {
  font-size: 0.85rem;
  font-weight: 600;
  display: block;
  margin-bottom: 4px;
}
.referral-input-row {
  display: flex;
  gap: 8px;
  margin-bottom: 8px;
}
.referral-input-row input {
  flex: 1;
  padding: 8px;
  border-radius: 10px;
  border: 1px solid #cbd5e1;
  font-size: 0.85rem;
}
.referral-input-row button {
  padding: 8px 12px;
  border-radius: 10px;
  border: none;
  background: white;
  box-shadow: 0 1px 4px rgba(15, 23, 42, 0.1);
  cursor: pointer;
}
.primary-btn {
  border: none;
  background: linear-gradient(90deg, var(--purple), var(--pink));
  color: white;
  padding: 10px 16px;
  border-radius: 999px;
  cursor: pointer;
}
.full-width {
  width: 100%;
}
.tiny-text {
  margin-top: 6px;
  font-size: 0.75rem;
  color: #6b7280;
  text-align: center;
}

/* settings */
.settings-card {
  background: white;
  border-radius: 20px;
  padding: 20px;
  box-shadow: 0 2px 8px rgba(15, 23, 42, 0.04);
  border: 1px solid #e5e7eb;
  margin-bottom: 40px;
}
.settings-card h3 {
  margin-top: 0;
}
.setting-group {
  margin-bottom: 14px;
}
.setting-group label {
  font-size: 0.9rem;
  font-weight: 600;
  display: block;
  margin-bottom: 4px;
}
.setting-group input,
.setting-group select {
  width: 100%;
  padding: 8px 10px;
  border-radius: 10px;
  border: 1px solid #cbd5e1;
  font-size: 0.9rem;
}
.setting-group small {
  display: block;
  margin-top: 4px;
  font-size: 0.75rem;
  color: #6b7280;
}

.danger-btn {
  border: 1px solid #fecaca;
  background: #fee2e2;
  color: #b91c1c;
  padding: 10px 16px;
  border-radius: 999px;
  cursor: pointer;
}
.danger-btn:hover {
  background: #fecaca;
}

@media (max-width: 768px) {
  .profile-stats-grid {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}
@media (max-width: 480px) {
  .profile-stats-grid {
    grid-template-columns: 1fr;
  }
}
